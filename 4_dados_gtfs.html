<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Introdução à acessibilidade urbana - 4&nbsp; Dados GTFS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./5_gtfstools.html" rel="next">
<link href="./s3_dados_tp.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dados GTFS</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introdução à acessibilidade urbana</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ipeaGIT/aop_curso" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
<li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Apresentação</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./s1_intro.html" class="sidebar-item-text sidebar-link">SEÇÃO 1: Introdução à acessibilidade urbana</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_conceito.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">O que é acessibilidade?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_indicadores.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Indicadores de acessibilidade</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./s2_calculo.html" class="sidebar-item-text sidebar-link">SEÇÃO 2: Calculando acessibilidade</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_calculando_acesso.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Calculando acessibilidade urbana em R</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./s3_dados_tp.html" class="sidebar-item-text sidebar-link">SEÇÃO 3: Dados de transporte público</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_dados_gtfs.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dados GTFS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_gtfstools.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulação e visualização de dados GTFS</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Seção 4: Avaliação de impacto</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_cenarios_transporte.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Comparando a acessibilidade entre dois cenários de transporte</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./p5_dados_aop.html" class="sidebar-item-text sidebar-link">Seção 5: Dados do Projeto AOP</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_aopdata_populacao.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Dados de população e socioeconômicos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_aopdata_uso_solo.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Dados de distribuição espacial de oportunidades</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_aopdata_acessibilidade.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Estimativas e mapas de acessibilidade</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">Referências bibliográficas</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nocoes_r.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Noções básicas de R</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#estrutura-dos-arquivos-de-gtfs" id="toc-estrutura-dos-arquivos-de-gtfs" class="nav-link active" data-scroll-target="#estrutura-dos-arquivos-de-gtfs"><span class="toc-section-number">4.1</span>  Estrutura dos arquivos de GTFS</a>
  <ul class="collapse">
<li><a href="#agency.txt" id="toc-agency.txt" class="nav-link" data-scroll-target="#agency.txt"><span class="toc-section-number">4.1.1</span>  agency.txt</a></li>
  <li><a href="#stops.txt" id="toc-stops.txt" class="nav-link" data-scroll-target="#stops.txt"><span class="toc-section-number">4.1.2</span>  stops.txt</a></li>
  <li><a href="#routes.txt" id="toc-routes.txt" class="nav-link" data-scroll-target="#routes.txt"><span class="toc-section-number">4.1.3</span>  routes.txt</a></li>
  <li><a href="#trips.txt" id="toc-trips.txt" class="nav-link" data-scroll-target="#trips.txt"><span class="toc-section-number">4.1.4</span>  trips.txt</a></li>
  <li><a href="#calendar.txt" id="toc-calendar.txt" class="nav-link" data-scroll-target="#calendar.txt"><span class="toc-section-number">4.1.5</span>  calendar.txt</a></li>
  <li><a href="#shapes.txt" id="toc-shapes.txt" class="nav-link" data-scroll-target="#shapes.txt"><span class="toc-section-number">4.1.6</span>  shapes.txt</a></li>
  <li><a href="#stop_times.txt" id="toc-stop_times.txt" class="nav-link" data-scroll-target="#stop_times.txt"><span class="toc-section-number">4.1.7</span>  stop_times.txt</a></li>
  <li><a href="#frequencies.txt" id="toc-frequencies.txt" class="nav-link" data-scroll-target="#frequencies.txt"><span class="toc-section-number">4.1.8</span>  frequencies.txt</a></li>
  </ul>
</li>
  <li><a href="#onde-encontrar-gtfs-de-cidades-brasileiras" id="toc-onde-encontrar-gtfs-de-cidades-brasileiras" class="nav-link" data-scroll-target="#onde-encontrar-gtfs-de-cidades-brasileiras"><span class="toc-section-number">4.2</span>  Onde encontrar GTFS de cidades brasileiras</a></li>
  <li><a href="#como-extrair-an%C3%A1lises-b%C3%A1sicas-de-um-gtfs-pacote-gtfstools" id="toc-como-extrair-análises-básicas-de-um-gtfs-pacote-gtfstools" class="nav-link" data-scroll-target="#como-extrair-an%C3%A1lises-b%C3%A1sicas-de-um-gtfs-pacote-gtfstools"><span class="toc-section-number">4.3</span>  Como extrair análises básicas de um GTFS (pacote gtfstools)</a></li>
  <li><a href="#c%C3%A1lculo-de-velocidade-das-linhas" id="toc-cálculo-de-velocidade-das-linhas" class="nav-link" data-scroll-target="#c%C3%A1lculo-de-velocidade-das-linhas"><span class="toc-section-number">4.4</span>  Cálculo de velocidade das linhas</a></li>
  <li><a href="#c%C3%A1lculo-de-frequ%C3%AAncia-das-linhas" id="toc-cálculo-de-frequência-das-linhas" class="nav-link" data-scroll-target="#c%C3%A1lculo-de-frequ%C3%AAncia-das-linhas"><span class="toc-section-number">4.5</span>  Cálculo de frequência das linhas</a></li>
  <li><a href="#mapear-a-rede-de-transporte-p%C3%BAblico" id="toc-mapear-a-rede-de-transporte-público" class="nav-link" data-scroll-target="#mapear-a-rede-de-transporte-p%C3%BAblico"><span class="toc-section-number">4.6</span>  Mapear a rede de transporte público</a></li>
  <li><a href="#como-fazer-edi%C3%A7%C3%B5es-na-rede-de-transporte-p%C3%BAblico-pacote-gtfstools" id="toc-como-fazer-edições-na-rede-de-transporte-público-pacote-gtfstools" class="nav-link" data-scroll-target="#como-fazer-edi%C3%A7%C3%B5es-na-rede-de-transporte-p%C3%BAblico-pacote-gtfstools"><span class="toc-section-number">4.7</span>  Como fazer edições na rede de transporte público (pacote gtfstools)</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/ipeaGIT/aop_curso/edit/main/4_dados_gtfs.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dados GTFS</span>
</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><p>O formato GTFS é uma especificação aberta e colaborativa que visa descrever os principais componentes de uma rede de transporte público. Atualmente, dados GTFS podem ser divididos em duas grandes categorias:</p>
<ul>
<li>
<em>GTFS Schedule</em>, ou <em>GTFS Static</em>, que contém o cronograma estático de linhas de transporte público e informações espaciais sobre o itinerário de cada linha e suas paradas;</li>
<li>
<em>GTFS Realtime</em>, que contém informações de localização de veículos em tempo real e alertas de possíveis atrasos, de mudanças de percurso e de eventos que possam interferir no cronograma planejado.</li>
</ul>
<p>Ao longo desta seção, nós focaremos no <strong>GTFS Schedule</strong>. Clique <a href="https://gtfs.org/realtime/">aqui</a> para mais informações sobre o GTFS Realtime.</p>
<p>Por ser uma especificação aberta e colaborativa, o formato GTFS tenta abarcar em sua definição um grande número de usos distintos que agências de transporte e desenvolvedores de ferramentas possam dar a ele. No entanto, agências e <em>softwares</em> podem ainda assim depender de informações que não constem na especificação oficial. Surgem, dessa forma, <a href="https://gtfs.org/extensions/">extensões</a> da especificação. Algumas dessas extensões podem eventualmente se tornar parte da especificação oficial, caso isto seja aceito pela comunidade de usuários do GTFS. Nesta seção nós focaremos em um subconjunto de informações presentes no formato GTFS Schedule “puro”, e, portanto, não cobriremos suas extensões.</p>
<section id="estrutura-dos-arquivos-de-gtfs" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="estrutura-dos-arquivos-de-gtfs">
<span class="header-section-number">4.1</span> Estrutura dos arquivos de GTFS</h2>
<p>Usualmente, refere-se a um arquivo no formato GTFS Schedule (daqui em diante chamado apenas de GTFS) como <em>feed</em>. Neste livro, nós utilizaremos os termos <em>feed</em> e arquivo GTFS como sinônimos.</p>
<p>Um <em>feed</em> é nada mais do que um arquivo comprimido em formato <code>.zip</code> que contém um conjunto de tabelas salvas em formato <code>.txt</code> com algumas informações sobre a rede de transporte público (e.g.&nbsp;localização das paradas, frequências das viagens, traçado das rotas etc). Como em uma base de dados relacional, as tabelas de um <em>feed</em> têm algumas colunas-chave que permitem vincular os dados rotas, viagens, tabelas de horários etc. O esquema geral do GTFS é mostrado na <a href="#fig-scheme">Figure&nbsp;<span>4.1</span></a>, mostrando apenas algumas das principais tabelas e com as colunas-chave destacadas como os pontos finais das setas.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-scheme" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="images/gtfs_scheme.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4.1: Esquema do formato GTFS</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Ao todo, 22 tabelas compõem o formato GTFS<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Nem todas, no entanto, são obrigatórias para que um feed seja considerado válido - sendo consideradas, portanto, opcionais. A especificação classifica cada tabela conforme sua obrigatoriedade em três possíveis categorias: obrigatórias, opcionais e condicionalmente obrigatórias (quando a obrigatoriedade de uma tabela depende da existência de uma determinada tabela, coluna ou valor). Para fins de simplicidade, neste livro nós consideraremos apenas as duas primeiras categorias e faremos comentários quanto à obrigatoriedade de cada tabela quando apropriado. Desta forma, ficam assim classificadas as tabelas:</p>
<ul>
<li>Obrigatórias: agency.txt, stops.txt, routes.txt, trips.txt, stop_times.txt, calendar.txt</li>
<li>Opcionais: calendar_dates.txt, fare_attributes.txt, fare_rules.txt, fare_products.txt, fare_leg_rules.txt, fare_transfer_rules.txt, areas.txt, stop_areas.txt, shapes.txt, frequencies.txt, transfers.txt, pathways.txt, levels.txt, translations.txt, feed_info.txt, attributions.txt</li>
</ul>
<p>Ao longo desta seção, nós aprenderemos a estrutura básica de um arquivo GTFS e das tabelas que o compõem. Portanto, vamos olhar apenas para as tabelas obrigatórias e para as tabelas opcionais mais frequentemente utilizadas por produtores e consumidores desses arquivos. Para mais informações sobre as tabelas e as colunas não abordadas nesta seção, por favor verifique a <a href="https://gtfs.org/schedule/reference/">especificação oficial</a>.</p>
<p>Nesta demonstração, nós utilizaremos um subconjunto de dados provenientes do <em>feed</em> da cidade de São Paulo criado pela SPTrans<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> e baixado em outubro de 2019. O <em>feed</em> contém as seis tabelas obrigatórias e mais duas tabelas opcionais bastante utilizadas, <code>shapes.txt</code> e <code>frequencies.txt</code>, o que permite uma boa visão geral sobre o formato GTFS.</p>
<div class="cell">

</div>
<section id="agency.txt" class="level3" data-number="4.1.1"><h3 data-number="4.1.1" class="anchored" data-anchor-id="agency.txt">
<span class="header-section-number">4.1.1</span> agency.txt</h3>
<p>Arquivo utilizado para descrever as operadoras de transporte que atuam no sistema descrito no arquivo GTFS. Embora o termo <em>agency</em> (agência) seja usado em lugar de <em>operators</em> (operadoras), por exemplo, fica a cargo do produtor do <em>feed</em> definir quais instituições serão listadas na tabela.</p>
<p>Por exemplo: múltiplas concessionárias de ônibus atuam em um determinado local, mas todo o planejamento de cronograma e de tarifa é realizado por uma instituição, em geral uma secretaria de transporte ou empresa pública específica. Esta instituição é também entendida pelos usuários do sistema como a operadora, de fato. Neste caso, devemos listar a instituição responsável pelo planejamento na tabela.</p>
<p>Agora, imagine um sistema em que a agência de transporte público local transfere a responsabilidade da operação de um sistema multimodal a diversas empresas, por meio de concessões. Cada uma dessas empresas é responsável pelo planejamento de cronogramas e tarifas dos modos que operam, desde que sejam seguidos determinados parâmetros pré-estabelecidos em contrato. Neste caso, devemos listar as operadoras (concessionárias) na tabela, e não a agência de transporte público em si.</p>
<p>A <a href="#tbl-agency">Table&nbsp;<span>4.1</span></a> mostra o arquivo <code>agency.txt</code> do <em>feed</em> da SPTrans. Como vocês podem ver, os responsáveis pelo <em>feed</em> optaram por listar a própria empresa no arquivo, e não as concessionárias que operam os ônibus e o metrô da cidade.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-agency" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.1: Exemplo de arquivo agency.txt</caption>
<colgroup>
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 44%">
<col style="width: 19%">
<col style="width: 12%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">agency_id</th>
<th style="text-align: left;">agency_name</th>
<th style="text-align: left;">agency_url</th>
<th style="text-align: left;">agency_timezone</th>
<th style="text-align: left;">agency_lang</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">SPTRANS</td>
<td style="text-align: left;">http://www.sptrans.com.br/?versao=011019</td>
<td style="text-align: left;">America/Sao_Paulo</td>
<td style="text-align: left;">pt</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<p>É necessário notar que, embora estejamos apresentando o <code>agency.txt</code> em formato de tabela, o arquivo deve ser formatado como se fosse salvo em formato <code>.csv</code>. Ou seja, os valores de cada célula da tabela devem ser separados por vírgulas, e cada linha da tabela deve constar em uma linha no arquivo. A tabela acima, por exemplo, é definida da seguinte forma:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>agency_id,agency_name,agency_url,agency_timezone,agency_lang
1,SPTRANS,http://www.sptrans.com.br/?versao=011019,America/Sao_Paulo,pt </code></pre>
</div>
</div>
<p>Por uma questão de comunicação e interpretação dos dados, ao longo desta seção sempre apresentaremos os exemplos em formato de tabela. É importante ter em mente, porém, que essas tabelas são internamente estruturadas como mostrado acima.</p>
</section><section id="stops.txt" class="level3" data-number="4.1.2"><h3 data-number="4.1.2" class="anchored" data-anchor-id="stops.txt">
<span class="header-section-number">4.1.2</span> stops.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-stops" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.2: Exemplo de arquivo stops.txt</caption>
<colgroup>
<col style="width: 6%">
<col style="width: 16%">
<col style="width: 61%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">stop_id</th>
<th style="text-align: left;">stop_name</th>
<th style="text-align: left;">stop_desc</th>
<th style="text-align: right;">stop_lat</th>
<th style="text-align: right;">stop_lon</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">706325</td>
<td style="text-align: left;">Parada 14 Bis B/C</td>
<td style="text-align: left;">Viad. Dr.&nbsp;Plínio De Queiroz, 901</td>
<td style="text-align: right;">-23.55593</td>
<td style="text-align: right;">-46.65011</td>
</tr>
<tr class="even">
<td style="text-align: left;">810602</td>
<td style="text-align: left;">R. Sta. Rita, 56</td>
<td style="text-align: left;">Ref.: R. Bresser / R. João Boemer</td>
<td style="text-align: right;">-23.53337</td>
<td style="text-align: right;">-46.61229</td>
</tr>
<tr class="odd">
<td style="text-align: left;">910776</td>
<td style="text-align: left;">Av. Do Estado, 5854</td>
<td style="text-align: left;">Ref.: Rua Dona Ana Néri</td>
<td style="text-align: right;">-23.55896</td>
<td style="text-align: right;">-46.61520</td>
</tr>
<tr class="even">
<td style="text-align: left;">1010092</td>
<td style="text-align: left;">Parada Caetano Pinto</td>
<td style="text-align: left;">Av. Rangel Pestana, 1249 Ref.: Rua Caetano Pinto/rua Prof.&nbsp;Batista De Andrade</td>
<td style="text-align: right;">-23.54615</td>
<td style="text-align: right;">-46.62218</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1010093</td>
<td style="text-align: left;">Parada Piratininga</td>
<td style="text-align: left;">Av. Rangel Pestana, 1479 Ref.: Rua Monsenhor Andrade</td>
<td style="text-align: right;">-23.54509</td>
<td style="text-align: right;">-46.62006</td>
</tr>
<tr class="even">
<td style="text-align: left;">1010099</td>
<td style="text-align: left;">R. Xavantes, 612</td>
<td style="text-align: left;">Ref.: Rua Joli</td>
<td style="text-align: right;">-23.53545</td>
<td style="text-align: right;">-46.61368</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="routes.txt" class="level3" data-number="4.1.3"><h3 data-number="4.1.3" class="anchored" data-anchor-id="routes.txt">
<span class="header-section-number">4.1.3</span> routes.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-routes" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.3: Exemplo de arquivo routes.txt</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 16%">
<col style="width: 27%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 16%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">route_id</th>
<th style="text-align: left;">agency_id</th>
<th style="text-align: left;">route_short_name</th>
<th style="text-align: left;">route_long_name</th>
<th style="text-align: right;">route_type</th>
<th style="text-align: left;">route_color</th>
<th style="text-align: left;">route_text_color</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CPTM L07</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L07</td>
<td style="text-align: left;">JUNDIAI - LUZ</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">CA016B</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L08</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L08</td>
<td style="text-align: left;">AMADOR BUENO - JULIO PRESTES</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">97A098</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L09</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L09</td>
<td style="text-align: left;">GRAJAU - OSASCO</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">01A9A7</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L10</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L10</td>
<td style="text-align: left;">RIO GRANDE DA SERRA - BRÁS</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">049FC3</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L11</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L11</td>
<td style="text-align: left;">ESTUDANTES - LUZ</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">F68368</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L12</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">CPTM L12</td>
<td style="text-align: left;">CALMON VIANA - BRAS</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">133C8D</td>
<td style="text-align: left;">FFFFFF</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="trips.txt" class="level3" data-number="4.1.4"><h3 data-number="4.1.4" class="anchored" data-anchor-id="trips.txt">
<span class="header-section-number">4.1.4</span> trips.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-trips" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.4: Exemplo de arquivo trips.txt</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 20%">
<col style="width: 19%">
<col style="width: 13%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">route_id</th>
<th style="text-align: left;">service_id</th>
<th style="text-align: left;">trip_id</th>
<th style="text-align: left;">trip_headsign</th>
<th style="text-align: right;">direction_id</th>
<th style="text-align: left;">shape_id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CPTM L07</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">JUNDIAI</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">17846</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L07-1</td>
<td style="text-align: left;">LUZ</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">17847</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L08</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L08-0</td>
<td style="text-align: left;">AMADOR BUENO</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">17848</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L08</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L08-1</td>
<td style="text-align: left;">JULIO PRESTES</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">17849</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L09</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L09-0</td>
<td style="text-align: left;">GRAJAU</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">17850</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L09</td>
<td style="text-align: left;">USD</td>
<td style="text-align: left;">CPTM L09-1</td>
<td style="text-align: left;">OSASCO</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">17851</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="calendar.txt" class="level3" data-number="4.1.5"><h3 data-number="4.1.5" class="anchored" data-anchor-id="calendar.txt">
<span class="header-section-number">4.1.5</span> calendar.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-calendar" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.5: Exemplo de arquivo calendar.txt</caption>
<colgroup>
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">service_id</th>
<th style="text-align: right;">monday</th>
<th style="text-align: right;">tuesday</th>
<th style="text-align: right;">wednesday</th>
<th style="text-align: right;">thursday</th>
<th style="text-align: right;">friday</th>
<th style="text-align: right;">saturday</th>
<th style="text-align: right;">sunday</th>
<th style="text-align: left;">start_date</th>
<th style="text-align: left;">end_date</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">USD</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
<tr class="even">
<td style="text-align: left;">U__</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">US_</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
<tr class="even">
<td style="text-align: left;">_SD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">__D</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>S</em></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2008-01-01</td>
<td style="text-align: left;">2020-05-01</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="shapes.txt" class="level3" data-number="4.1.6"><h3 data-number="4.1.6" class="anchored" data-anchor-id="shapes.txt">
<span class="header-section-number">4.1.6</span> shapes.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-shapes" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.6: Exemplo de arquivo shapes.txt</caption>
<colgroup>
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 24%">
<col style="width: 27%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">shape_id</th>
<th style="text-align: right;">shape_pt_lat</th>
<th style="text-align: right;">shape_pt_lon</th>
<th style="text-align: right;">shape_pt_sequence</th>
<th style="text-align: right;">shape_dist_traveled</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53517</td>
<td style="text-align: right;">-46.63535</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">13.56768</td>
</tr>
<tr class="even">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53513</td>
<td style="text-align: right;">-46.63548</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">95.99193</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53494</td>
<td style="text-align: right;">-46.63626</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">185.05103</td>
</tr>
<tr class="even">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53473</td>
<td style="text-align: right;">-46.63710</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">211.43776</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53466</td>
<td style="text-align: right;">-46.63735</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">356.31088</td>
</tr>
<tr class="even">
<td style="text-align: left;">17846</td>
<td style="text-align: right;">-23.53416</td>
<td style="text-align: right;">-46.63866</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">483.96616</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="stop_times.txt" class="level3" data-number="4.1.7"><h3 data-number="4.1.7" class="anchored" data-anchor-id="stop_times.txt">
<span class="header-section-number">4.1.7</span> stop_times.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-stop_times" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.7: Exemplo de arquivo stop_times.txt</caption>
<thead><tr class="header">
<th style="text-align: left;">trip_id</th>
<th style="text-align: left;">arrival_time</th>
<th style="text-align: left;">departure_time</th>
<th style="text-align: left;">stop_id</th>
<th style="text-align: right;">stop_sequence</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:00:00</td>
<td style="text-align: left;">04:00:00</td>
<td style="text-align: left;">18940</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:08:00</td>
<td style="text-align: left;">04:08:00</td>
<td style="text-align: left;">18920</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:16:00</td>
<td style="text-align: left;">04:16:00</td>
<td style="text-align: left;">18919</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:24:00</td>
<td style="text-align: left;">04:24:00</td>
<td style="text-align: left;">18917</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:32:00</td>
<td style="text-align: left;">04:32:00</td>
<td style="text-align: left;">18916</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:40:00</td>
<td style="text-align: left;">04:40:00</td>
<td style="text-align: left;">18965</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section><section id="frequencies.txt" class="level3" data-number="4.1.8"><h3 data-number="4.1.8" class="anchored" data-anchor-id="frequencies.txt">
<span class="header-section-number">4.1.8</span> frequencies.txt</h3>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-frequencies" class="anchored">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4.8: Exemplo de arquivo frequencies.txt</caption>
<thead><tr class="header">
<th style="text-align: left;">trip_id</th>
<th style="text-align: left;">start_time</th>
<th style="text-align: left;">end_time</th>
<th style="text-align: right;">headway_secs</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">04:00:00</td>
<td style="text-align: left;">04:59:00</td>
<td style="text-align: right;">720</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">05:00:00</td>
<td style="text-align: left;">05:59:00</td>
<td style="text-align: right;">360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">06:00:00</td>
<td style="text-align: left;">06:59:00</td>
<td style="text-align: right;">360</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">07:00:00</td>
<td style="text-align: left;">07:59:00</td>
<td style="text-align: right;">360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">08:00:00</td>
<td style="text-align: left;">08:59:00</td>
<td style="text-align: right;">360</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPTM L07-0</td>
<td style="text-align: left;">09:00:00</td>
<td style="text-align: left;">09:59:00</td>
<td style="text-align: right;">480</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section></section><section id="onde-encontrar-gtfs-de-cidades-brasileiras" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="onde-encontrar-gtfs-de-cidades-brasileiras">
<span class="header-section-number">4.2</span> Onde encontrar GTFS de cidades brasileiras</h2>
</section><section id="como-extrair-análises-básicas-de-um-gtfs-pacote-gtfstools" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="como-extrair-análises-básicas-de-um-gtfs-pacote-gtfstools">
<span class="header-section-number">4.3</span> Como extrair análises básicas de um GTFS (pacote gtfstools)</h2>
</section><section id="cálculo-de-velocidade-das-linhas" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="cálculo-de-velocidade-das-linhas">
<span class="header-section-number">4.4</span> Cálculo de velocidade das linhas</h2>
</section><section id="cálculo-de-frequência-das-linhas" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="cálculo-de-frequência-das-linhas">
<span class="header-section-number">4.5</span> Cálculo de frequência das linhas</h2>
</section><section id="mapear-a-rede-de-transporte-público" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="mapear-a-rede-de-transporte-público">
<span class="header-section-number">4.6</span> Mapear a rede de transporte público</h2>
</section><section id="como-fazer-edições-na-rede-de-transporte-público-pacote-gtfstools" class="level2" data-number="4.7"><h2 data-number="4.7" class="anchored" data-anchor-id="como-fazer-edições-na-rede-de-transporte-público-pacote-gtfstools">
<span class="header-section-number">4.7</span> Como fazer edições na rede de transporte público (pacote gtfstools)</h2>


</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Conforme a <a href="https://gtfs.org/schedule/reference/">especificação oficial</a>, versão da revisão 9 de maio de 2022.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Disponível em <a href="https://www.sptrans.com.br/desenvolvedores/" class="uri">https://www.sptrans.com.br/desenvolvedores/</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./s3_dados_tp.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">SEÇÃO 3: Dados de transporte público</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./5_gtfstools.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipulação e visualização de dados GTFS</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Ipea (Institute for Applied Economic Research)</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link active" href="https://github.com/ipeaGIT/aop_curso" aria-current="page">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>